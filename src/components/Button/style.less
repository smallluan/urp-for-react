@import '../utils/styles/index.less';

.u-button {
  position: relative;
  display: inline-block;
  cursor: pointer;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  touch-action: manipulation;
  transition: all .1s ease-in-out;
  overflow: hidden;
  z-index: 0;
}

.u-button-block {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
}

.u-button-disabled {
  cursor: not-allowed;
}

.u-button-pureIcon {
  padding: 4px !important;
  aspect-ratio: 1 / 1;
}

.define-u-button-variant(
  @border-style: solid,
  @border-color: var(--u-primary-color),
  @border-color-hover: var(--u-primary-color-hover),
  @border-color-active: var(--u-primary-color-active),
  @conten-color: var(--u-primary-color),
  @content-color-hover: var(--u-primary-color-hover),
  @content-color-active: var(--u-primary-color-active),
  @background-color: transparent,
  @background-color-hover: transparent,
  @background-color-active: var(--u-primary-color-light)
) {
  border: 1px @border-style @border-color;
  color: @conten-color;
  background-color: @background-color;
  &:hover {
    border: 1px @border-style @border-color-hover;
    color: @content-color-hover;
    background-color: @background-color-hover;
  }
  &:active {
    border: 1px @border-style @border-color-active;
    color: @content-color-active;
  }
  .u-button-active-bg {
    opacity: 0;
    position: absolute;
    top: calc(var(--relativeY) * 1px);
    left: calc(var(--relativeX) * 1px);
    background-color: @background-color-active;
    border-radius: 100vh;
    z-index: 1;
    aspect-ratio: 1 / 1;
    transform: translate(-50%, -50%);
  }

  .u-button-active-bg-visible {
    opacity: 1;
    animation: active-bg .25s ease-in forwards;
  }

  @keyframes active-bg {
    from {
      width: 0;
    }
    to {
      width: 300%;
    }
  }
}

/* 基础样式 */
.u-button-variant-base.u-button-theme-default {
  .define-u-button-variant(
    solid,
    var(--u-default-color),
    var(--u-default-color-hover),
    var(--u-default-color-active),
    var(--u-font-gray-1),
    var(--u-font-gray-1),
    var(--u-font-gray-1),
    var(--u-default-color),
    var(--u-default-color-hover),
    var(--u-default-color-active),
  );
}

.u-button-variant-base.u-button-theme-primary {
  .define-u-button-variant(
    solid,
    var(--u-primary-color),
    var(--u-primary-color-hover),
    var(--u-primary-color-active),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-primary-color),
    var(--u-primary-color-hover),
    var(--u-primary-color-active),
  );
}

.u-button-variant-base.u-button-theme-warning {
  .define-u-button-variant(
    solid,
    var(--u-warning-color),
    var(--u-warning-color-hover),
    var(--u-warning-color-active),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-warning-color),
    var(--u-warning-color-hover),
    var(--u-warning-color-active),
  );
}

.u-button-variant-base.u-button-theme-success {
  .define-u-button-variant(
    solid,
    var(--u-success-color),
    var(--u-success-color-hover),
    var(--u-success-color-active),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-success-color),
    var(--u-success-color-hover),
    var(--u-success-color-active),
  );
}

.u-button-variant-base.u-button-theme-error {
  .define-u-button-variant(
    solid,
    var(--u-error-color),
    var(--u-error-color-hover),
    var(--u-error-color-active),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-error-color),
    var(--u-error-color-hover),
    var(--u-error-color-active),
  );
}

/* 虚线边框 */
.u-button-variant-dashed.u-button-theme-default {
  .define-u-button-variant(
    dashed,
    var(--u-font-gray-2),
    var(--u-font-gray-3),
    var(--u-font-gray-1),
    var(--u-font-gray-2),
    var(--u-font-gray-3),
    var(--u-font-gray-1),
    transparent,
    transparent,
    var(--u-default-color-light)
  );
}

.u-button-variant-dashed.u-button-theme-primary {
  .define-u-button-variant(dashed);
}

.u-button-variant-dashed.u-button-theme-warning {
   .define-u-button-variant(
    dashed,
    var(--u-warning-color),
    var(--u-warning-color-hover),
    var(--u-warning-color-active),
    var(--u-warning-color),
    var(--u-warning-color-hover),
    var(--u-warning-color-active),
    transparent,
    transparent,
    var(--u-warning-color-light)
  );
}

.u-button-variant-dashed.u-button-theme-success {
   .define-u-button-variant(
    dashed,
    var(--u-success-color),
    var(--u-success-color-hover),
    var(--u-success-color-active),
    var(--u-success-color),
    var(--u-success-color-hover),
    var(--u-success-color-active),
    transparent,
    transparent,
    var(--u-success-color-light)
  );
}

.u-button-variant-dashed.u-button-theme-error {
   .define-u-button-variant(
    dashed,
    var(--u-error-color),
    var(--u-error-color-hover),
    var(--u-error-color-active),
    var(--u-error-color),
    var(--u-error-color-hover),
    var(--u-error-color-active),
    transparent,
    transparent,
    var(--u-error-color-light)
  );
}

/* 实线边框 */
.u-button-variant-outline.u-button-theme-default {
  .define-u-button-variant(
    solid,
    var(--u-font-gray-2),
    var(--u-font-gray-3),
    var(--u-font-gray-1),
    var(--u-font-gray-2),
    var(--u-font-gray-3),
    var(--u-font-gray-1),
    transparent,
    transparent,
    var(--u-default-color-light)
  );
}


.u-button-variant-outline.u-button-theme-primary {
  .define-u-button-variant();
}

.u-button-variant-outline.u-button-theme-warning {
  .define-u-button-variant(
    solid,
    var(--u-warning-color),
    var(--u-warning-color-hover),
    var(--u-warning-color-active),
    var(--u-warning-color),
    var(--u-warning-color-hover),
    var(--u-warning-color-active),
    transparent,
    transparent,
    var(--u-warning-color-light)
  );
}

.u-button-variant-outline.u-button-theme-success {
  .define-u-button-variant(
    solid,
    var(--u-success-color),
    var(--u-success-color-hover),
    var(--u-success-color-active),
    var(--u-success-color),
    var(--u-success-color-hover),
    var(--u-success-color-active),
    transparent,
    transparent,
    var(--u-success-color-light)
  );
}

.u-button-variant-outline.u-button-theme-error {
  .define-u-button-variant(
    solid,
    var(--u-error-color),
    var(--u-error-color-hover),
    var(--u-error-color-active),
    var(--u-error-color),
    var(--u-error-color-hover),
    var(--u-error-color-active),
    transparent,
    transparent,
    var(--u-error-color-light)
  );
}

/* 文字按钮 */
.u-button-variant-text.u-button-theme-default {
  .define-u-button-variant(
    solid,
    transparent,
    transparent,
    transparent,
    var(--u-font-gray-2),
    var(--u-font-gray-3),
    var(--u-font-gray-1),
    transparent,
    var(--u-default-color-hover),
    var(--u-default-color-active),
  );
}

.u-button-variant-text.u-button-theme-primary {
  .define-u-button-variant(
    solid,
    transparent,
    transparent,
    transparent,
    var(--u-primary-color),
    var(--u-primary-color),
    var(--u-primary-color),
    transparent,
    var(--u-default-color-hover),
    var(--u-default-color-active),
  );
}

.u-button-variant-text.u-button-theme-warning {
  .define-u-button-variant(
    solid,
    transparent,
    transparent,
    transparent,
    var(--u-warning-color),
    var(--u-warning-color),
    var(--u-warning-color),
    transparent,
    var(--u-default-color-hover),
    var(--u-default-color-active),
  );
}

.u-button-variant-text.u-button-theme-success {
  .define-u-button-variant(
    solid,
    transparent,
    transparent,
    transparent,
    var(--u-success-color),
    var(--u-success-color),
    var(--u-success-color),
    transparent,
    var(--u-default-color-hover),
    var(--u-default-color-active),
  );
}

.u-button-variant-text.u-button-theme-error {
  .define-u-button-variant(
    solid,
    transparent,
    transparent,
    transparent,
    var(--u-error-color),
    var(--u-error-color),
    var(--u-error-color),
    transparent,
    var(--u-default-color-hover),
    var(--u-default-color-active),
  );
}

/* 基础——禁用 */
.u-button-variant-base.u-button-theme-default.u-button-disabled {
  .define-u-button-variant(
    none,
    none,
    none,
    none,
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-default-color-disabled),
    var(--u-default-color-disabled),
    var(--u-default-color-disabled)
  );
}

.u-button-variant-base.u-button-theme-primary.u-button-disabled {
  .define-u-button-variant(
    solid,
    none,
    none,
    none,
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled)
  );
}

.u-button-variant-base.u-button-theme-warning.u-button-disabled {
  .define-u-button-variant(
    solid,
    none,
    none,
    none,
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled)
  );
}

.u-button-variant-base.u-button-theme-success.u-button-disabled {
  .define-u-button-variant(
    solid,
    none,
    none,
    none,
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled)
  );
}

.u-button-variant-base.u-button-theme-error.u-button-disabled {
  .define-u-button-variant(
    solid,
    none,
    none,
    none,
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-font-white-1),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled)
  );
}

/* 虚线边框禁用 */
.u-button-variant-dashed.u-button-theme-default.u-button-disabled {
  .define-u-button-variant(
    dashed,
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-dashed.u-button-theme-primary.u-button-disabled {
  .define-u-button-variant(
    dashed,
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-dashed.u-button-theme-warning.u-button-disabled {
  .define-u-button-variant(
    dashed,
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-dashed.u-button-theme-success.u-button-disabled {
  .define-u-button-variant(
    dashed,
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-dashed.u-button-theme-error.u-button-disabled {
  .define-u-button-variant(
    dashed,
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

/* 实线边框禁用 */
.u-button-variant-outline.u-button-theme-default.u-button-disabled {
  .define-u-button-variant(
    solid,
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-outline.u-button-theme-primary.u-button-disabled {
  .define-u-button-variant(
    solid,
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-outline.u-button-theme-warning.u-button-disabled {
  .define-u-button-variant(
    solid,
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-outline.u-button-theme-success.u-button-disabled {
  .define-u-button-variant(
    solid,
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-outline.u-button-theme-error.u-button-disabled {
  .define-u-button-variant(
    solid,
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

/* 文字禁用 */
.u-button-variant-text.u-button-theme-default.u-button-disabled {
  .define-u-button-variant(
    none,
    none,
    none,
    none,
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    var(--u-font-gray-3),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-text.u-button-theme-primary.u-button-disabled {
  .define-u-button-variant(
    none,
    none,
    none,
    none,
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    var(--u-primary-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-text.u-button-theme-warning.u-button-disabled {
  .define-u-button-variant(
    none,
    none,
    none,
    none,
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    var(--u-warning-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-text.u-button-theme-success.u-button-disabled {
  .define-u-button-variant(
    none,
    none,
    none,
    none,
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    var(--u-success-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

.u-button-variant-text.u-button-theme-error.u-button-disabled {
  .define-u-button-variant(
    none,
    none,
    none,
    none,
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    var(--u-error-color-disabled),
    transparent,
    transparent,
    transparent,
  );
}

/* shape 形状类 */
.u-button-shape-rect {
  border-radius: 4px;
}

.u-button-shape-round {
  border-radius: 100vh;
}

/* 尺寸类 */
.u-button-size-normal {
  padding: 4px 12px;
  font-size: 14px;
}

.u-button-size-small {
  padding: 2px 8px;
  font-size: 12px;
}

.u-button-size-large {
  padding: 6px 14px;
  font-size: 16px;
}

.u-button-icon {
  font-size: inherit !important;
}

.u-button-icon-with-margin {
  margin-right: 4px;
}
