# Tree 组件

## 一、技术选型
Tree 组件的 DOM 结构实现主要有两种主流方案：嵌套式与并列式，二者无绝对优劣，仅适配不同场景需求。

### 1. 两种结构的核心实现
#### 1.1 嵌套 DOM
- 逻辑：数据是嵌套结构 → DOM 同步嵌套，通过递归渲染子节点
- 展开/折叠：直接增删嵌套的子节点 DOM 元素
- 示例 DOM：父节点容器包含子节点容器，DOM 结构与原始数据结构完全一致

#### 1.2 并列 DOM
- 逻辑：先将树形数据转为扁平数组（记录节点层级 level、父节点 ID），再循环平铺渲染
- 展开/折叠：通过过滤扁平数组，仅渲染符合条件的节点
- 示例 DOM：所有节点同级平铺，靠 CSS（padding-left）模拟层级缩进效果

### 2. 优缺点对比
| 维度         | 嵌套 DOM               | 并列 DOM               |
|--------------|------------------------|------------------------|
| 开发成本     | 低（逻辑直观，直接递归）| 高（需额外处理数据扁平化）|
| 大数据量性能 | 差（DOM 重排范围大）   | 优（易对接虚拟列表，性能更稳）|
| 高级交互支持 | 弱（拖拽、滚动等难实现）| 强（所有节点同级，交互逻辑统一）|
| 样式控制     | 易（可通过嵌套选择器控制）| 稍复杂（需借助 data-level 控制缩进）|

### 3. 本组件的技术选型
本组件选择 **并列式 DOM** 方案开发，核心考量：
1. 适配大数据量场景，避免 DOM 深层嵌套导致的性能问题；
2. 预留虚拟列表扩展能力，满足更多复杂使用场景；
3. 便于后续支持拖拽、批量操作等高级交互功能。